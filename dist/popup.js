const m=chrome.runtime.getURL("assets/play.png"),d=chrome.runtime.getURL("assets/delete.png"),a="xxxSecretxxx";function r(){return new Promise(function(e,s){chrome.storage.local.get([a],function(t){e(t[a]||[])})})}async function k(e){await chrome.storage.local.set({[a]:e}),l()}function u(e,s){const t=document.getElementById("bookmarks-list"),n=document.createElement("div"),i=document.createElement("a");i.href=s,i.innerText=e;const o=document.createElement("img");o.src=m,o.style.width="20px",o.style.height="20px",o.addEventListener("click",p);const c=document.createElement("img");c.src=d,c.style.width="20px",c.style.height="20px",c.addEventListener("click",h),n.appendChild(i),n.appendChild(o),n.appendChild(c),n.classList.add("bookmark"),t.appendChild(n)}async function l(){const e=document.getElementById("bookmarks-list");e.innerHTML="",(await r()).forEach(function(t){u(t.title,t.url)})}window.addEventListener("DOMContentLoaded",async function(){l()});function p(){const e=this.previousSibling.href;window.open(e,"_blank")}async function h(){const e=this.previousSibling.previousSibling.href,t=(await r()).filter(function(n){return n.url!==e});await k(t)}
